def skipRemainingStages = false



pipeline {
   agent any
	//options([parameters([string(defaultValue: '2', name: 'select')])])	
	parameters {
        	string(name: 'select', defaultValue: '2')
	}
	tools {
		maven 'mvn3'
	}
      stages{
			stage("Stage 1") {
            steps {
					script {
					    skipRemainingStages = true

					    println "skipRemainingStages = ${skipRemainingStages}"
					}
		    	}
			}
			stage("Stage 2") {
			    when {
					expression {
					    !skipRemainingStages
					}
			    }

			    steps {
					script {
					    println "This text wont show up...."
					}
			    }
			}

			stage ('1 choice') {
		      when {
		                expression { select == '1'}
		            }
		            steps {
		                echo "Hello, Choice 1! "
				    
				    sh 'printenv'

		            }
		    }
		    stage ('2 choice') {
		      when {
		                expression { select == '2'}
		            }
		            steps {
		                echo "Hello, Choice 2!"
				echo "CURRENT BRANCH IS = $BRANCH_NAME"
		            }
		    }
		   stage ('3 choice') {
		      when {
		                expression { select == '3'}
		            }
		            steps {
		                echo "Hello, Choice 3!"
		            }
		        }

			
		}
} 
