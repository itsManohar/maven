def skipRemainingStages = false
def choice = 2

pipeline {
   agent any
	properties([parameters([choice(choices: ['1', '2', '3'], name: 'select')])])
	
	tools {
		maven 'mvn3'
	}
      stages{
			stage("Stage 1") {
            steps {
					script {
					    skipRemainingStages = true

					    println "skipRemainingStages = ${skipRemainingStages}"
					}
		    	}
			}
			stage("Stage 2") {
			    when {
					expression {
					    !skipRemainingStages
					}
			    }

			    steps {
					script {
					    println "This text wont show up...."
					}
			    }
			}

			stage ('1 choice') {
		      when {
		                expression { select == '1'}
		            }
		            steps {
		                echo "Hello, Choice 1!"
		            }
		    }
		    stage ('2 choice') {
		      when {
		                expression { select == '2'}
		            }
		            steps {
		                echo "Hello, Choice 2!"
		            }
		    }
		   stage ('3 choice') {
		      when {
		                expression { select == '3'}
		            }
		            steps {
		                echo "Hello, Choice 3!"
		            }
		        }

			
		}
} 
